telegram-desktop (1.9.14+ds-1) unstable; urgency=medium

  * New upstream release.
  * Import StatusNotifierItem from lxqt-qtplugin v0.14.0.
  * Adjust patches and build rules.
    - No install tg.protocol file for KDE4.
    - New build dependency: libdbusmenu-qt5-dev
  * Exclude HP/PA and Motorola 68k from list of supported architectures.
  * Decrease required Qt version to 5.9, this is minimal tested version.
  * Bump Standards-Version to 4.5.0, no related changes.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Thu, 20 Feb 2020 08:45:20 +0300

telegram-desktop (1.9.8~slim-1) unstable; urgency=medium

  * New upstream release.
    - Repack upstream's tarball removing third-party modules.
  * Drop the crl subproject from the debian folder.
  * Adapt build config for pure CMake build system.
    - Increase required version of CMake to 3.16.0, Qt to 5.10.0,
      libranges to 0.10.0.
    - Use GTK file chooser dialog with image previews. (Closes: #944315)
  * Restrict supported architectures to Little Endian. (Closes: #943499)
  * Remove old unneeded patches.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Tue, 28 Jan 2020 09:16:44 +0300

telegram-desktop (1.8.15-2) unstable; urgency=medium

  * Fixed passing of -mxgot compiler flag for MIPS64.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Fri, 25 Oct 2019 12:41:00 +0300

telegram-desktop (1.8.15-1) unstable; urgency=medium

  * New upstream release.
    - Minor bug fixes.
  * Rewrite build scripts.
  * Specify minimal required version libranges 0.9.0.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Tue, 15 Oct 2019 23:24:43 +0300

telegram-desktop (1.8.8-1) unstable; urgency=medium

  * New upstream release.
  * Use large global offset table for lib_scheme on mips64el.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Thu, 12 Sep 2019 19:10:37 +0300

telegram-desktop (1.8.4-1) unstable; urgency=medium

  * New upstream release.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Mon, 09 Sep 2019 18:06:55 +0300

telegram-desktop (1.8.2-2) unstable; urgency=medium

  * Apply Deprecated-ranges.patch.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Tue, 03 Sep 2019 23:41:37 +0300

telegram-desktop (1.8.2-1) unstable; urgency=medium

  * New upstream release.
  * Patches:
    - Update Modify-build-scripts.patch.
    - Remove Do-not-use-private-Qt-color-API.patch.
    - Add Ignore-emoji-pack.patch.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Fri, 23 Aug 2019 20:15:33 +0300

telegram-desktop (1.7.14-1) unstable; urgency=medium

  * New upstream release (closes: #932457).
  * Import crl subproject (commit 9ea8700).
  * Update patches:
     - Amend Modify-build-scripts.patch to include fixes for lottie lib.
     - Automatically refresh Packed-resources.patch with quilt.
     - Add Do-not-use-private-Qt-color-API.patch taken from upstream Git.
     - Reimplement Do-not-sync-wallpaper.patch as the code in that
       place was rewritten completely.
  * Refine copyright info for AppStream metadata.
  * Update debhelper compatibility level to 12.
     - Increase limit of debug information entries for dwz to 100 million.
  * Bump standards version to 4.4.0, no related changes.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Sat, 27 Jul 2019 18:01:22 +0300

telegram-desktop (1.7.0-1) experimental; urgency=medium

  * New upstream version.
  * Update crl subproject to commit 84072fb.
  * Update patches:
     - Remove the -flto compiler flag.
     - Add Do-not-sync-wallpaper.patch.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Mon, 27 May 2019 23:16:58 +0300

telegram-desktop (1.5.11-1) unstable; urgency=medium

  * New upstream release.
  * Refresh patches to fit new version.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Sun, 03 Feb 2019 21:30:53 +0300

telegram-desktop (1.5.8-1) unstable; urgency=medium

  * New upstream release.
  * Update crl subproject to commit 9b7c6b5.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Thu, 24 Jan 2019 21:25:39 +0300

telegram-desktop (1.5.4-1) unstable; urgency=medium

  * New upstream release.
  * Bump standards version to 4.3.0, no related changes.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Mon, 31 Dec 2018 10:03:07 +0300

telegram-desktop (1.5.2-1) unstable; urgency=medium

  * New upstream release (closes: #915975).
  * Patches:
    - Drop Debian-API-ID.patch. Use gyp variables api_id and api_hash instead.
    - Drop Ayatana-Indicators.patch as applied by upstream.
    - Refresh Modify-build-scripts.patch.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Wed, 19 Dec 2018 09:04:21 +0300

telegram-desktop (1.4.0-1) unstable; urgency=medium

  * New upstream release.
    - Fixes CVE-2018-17780 by adding a new setting for peer-to-peer calls.
  * Update crl subproject (commit 4291015).
  * Refresh patches.
    - Drop GCC-binding-workaround.patch as applied by upstream.
    - Rewrite Modify-build-scripts.patch to compile new version.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Wed, 03 Oct 2018 08:29:55 +0300

telegram-desktop (1.3.14-1) unstable; urgency=medium

  * New upstream release.
  * Update patches.
    - Add GCC-binding-workaround.patch
  * Bump standards version to 4.2.1, no related changes because Telegram is
    not a Perl program.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Fri, 31 Aug 2018 18:59:26 +0300

telegram-desktop (1.3.10-2) unstable; urgency=medium

  * Fix FTBFS on mips, mipsel, armel with libatomic.
  * Disable LTO at all (closes: #904133).
  * Bump standards version to 4.2.0, no needed changes.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Fri, 03 Aug 2018 22:10:59 +0300

telegram-desktop (1.3.10-1) unstable; urgency=medium

  * New upstream release.
    - Export of cloud data is available.
  * Update patches.
    - Add a link to precompiled C++ header for lib_export.
  * Update crl subproject (commit 9bc641f).
  * Bump standards version to 4.1.5.
    - Add the Rules-Requires-Root field to the debian/control file.

 -- Nicholas Guriev <guriev-ns@ya.ru>  Tue, 17 Jul 2018 23:03:53 +0300

telegram-desktop (1.3.7-1) unstable; urgency=medium

  * New upstream release (closes: #900592)
  * Update patches
    - Add Ayatana-Indicators.patch (closes: #898414)
  * Update crl subproject (commit f893c36)
  * Switch to statically linked libtgvoip.
  * List other header-only libraries in the Built-Using field.
    - Mapbox Variant
    - range-v3 from Eric Niebler
    - Microsoft GSL

 -- Nicholas Guriev <guriev-ns@ya.ru>  Fri, 15 Jun 2018 10:35:21 +0300

telegram-desktop (1.2.17-1) unstable; urgency=medium

  * New upstream release
  * Update standards version, no related changes for this

 -- Nicholas Guriev <guriev-ns@ya.ru>  Sat, 21 Apr 2018 21:35:32 +0300

telegram-desktop (1.2.15-1) unstable; urgency=medium

  * New upstream release
  * Update crl subproject (commit 344cbde)
  * Fonts:
    - Remove Open Sans font from app-resources
    - Add the fonts-open-sans package as recommended (closes: #890341)

 -- Nicholas Guriev <guriev-ns@ya.ru>  Sun, 01 Apr 2018 09:13:15 +0300

telegram-desktop (1.2.6-2) unstable; urgency=medium

  [ Adrian Bunk ]
  * Fix memory exhausted during linking on mips and mipsel (closes: #889139)

  [ Nicholas Guriev ]
  * Migrate repository to salsa.debian.org

 -- Nicholas Guriev <guriev-ns@ya.ru>  Sun, 04 Feb 2018 14:05:19 +0300

telegram-desktop (1.2.6-1) unstable; urgency=medium

  * New upstream release
  * Fix memory exhausting during compilation
  * Add GTK 2.0 as build dependency (for fix build on Ubuntu 18.04)
  * Import crl, concurrency runtime library, as missed source (commit 9e11a5c)
  * Combine multiple patches that fix build into one
    - Drop glibc wrappers, they were needed for compatibility with old glibc
  * Install AppStream meta information and upstream changelog
  * Grant content of the debian folder into public domain
  * Bump standards version and debhelper level
    - No significant changes for this
  * Remove unused dependencies, libdee-dev (closes: #888679)

 -- Nicholas Guriev <guriev-ns@ya.ru>  Wed, 31 Jan 2018 00:32:38 +0300

telegram-desktop (1.2.1-2) unstable; urgency=medium

  * Update Various-build-fixes.patch
    - Fix FTBFS on all architectures except amd64 and i386

 -- Nicholas Guriev <guriev-ns@ya.ru>  Fri, 15 Dec 2017 22:46:06 +0300

telegram-desktop (1.2.1-1) unstable; urgency=medium

  * New upstream release (closes: #884137)
  * Refreshed patches and removed the next as applied by upstream:
    - Fix-Insecure-cWorkingDir-permissions.patch
    - Fix-text-duplicating.patch
    - Use-OpenSSL-v1.1.patch
  * Add librange-v3-dev as build dependency
  * Remove libappindicator1 from recommended packages (closes: #883634)
  * Bump standards version, no changes for this

 -- Nicholas Guriev <guriev-ns@ya.ru>  Fri, 15 Dec 2017 00:04:26 +0300

telegram-desktop (1.1.23-3) unstable; urgency=medium

  * Add Fix-text-duplicating.patch (closes: #883454)

 -- Nicholas Guriev <guriev-ns@ya.ru>  Wed, 06 Dec 2017 09:16:38 +0300

telegram-desktop (1.1.23-2) unstable; urgency=medium

  * Add Use-OpenSSL-v1.1.patch to migrate to OpenSSL 1.1 (closes: #859852)
  * Add libappindicator as recommended packages (closes: #859172)
  * Bump standards version, no changes

 -- Nicholas Guriev <guriev-ns@ya.ru>  Sat, 25 Nov 2017 10:28:23 +0300

telegram-desktop (1.1.23-1) unstable; urgency=medium

  * New upstream release
    - Refine copyright notes
  * Refresh patches
    - Use tests, new Fix-tests.patch
    - Disable LTO on mips64el to fix FTBFS
  * Bump Standards Version, no changes for this
  * Remove already unnecessary lintian overrides
  * New build dependency, the catch, is used for tests

 -- Nicholas Guriev <guriev-ns@ya.ru>  Thu, 14 Sep 2017 16:16:54 +0300

telegram-desktop (1.1.19-2) unstable; urgency=medium

  * Fix CVE-2016-10351 by applying Fix-Insecure-cWorkingDir-permissions.patch
    - Set 700 permissions for the working directory on every start
  * Apply Packed-resources.patch to reduce amount of required memory for
    building (closes: #860510)
  * Some refactoring the debian/rules file

 -- Nicholas Guriev <guriev-ns@ya.ru>  Thu, 31 Aug 2017 23:46:47 +0300

telegram-desktop (1.1.19-1) unstable; urgency=medium

  * New upstream release
  * Fix build on Debian/kFreeBSD

 -- Nicholas Guriev <guriev-ns@ya.ru>  Wed, 02 Aug 2017 20:16:36 +0300

telegram-desktop (1.1.18-1) unstable; urgency=medium

  * New upstream release
  * Refresh a patch
  * Add lintian override

 -- Nicholas Guriev <guriev-ns@ya.ru>  Sun, 30 Jul 2017 08:50:28 +0300

telegram-desktop (1.1.15-1) unstable; urgency=medium

  * New upstream release
  * Fix build for Qt 5.9 (closes: #867578)
  * Exclude qt.conf file from resources

 -- Nicholas Guriev <guriev-ns@ya.ru>  Sun, 23 Jul 2017 20:04:17 +0300

telegram-desktop (1.1.10-1) unstable; urgency=medium

  * New upstream release
    - New admin features in channels and supergroups
  * Refresh patches
  * Bump Standards-Version to 4.0.0
  * Rewrite a manpage to nroff (closes: #860595)

 -- Nicholas Guriev <guriev-ns@ya.ru>  Thu, 06 Jul 2017 19:53:05 +0300

telegram-desktop (1.1.0-1) unstable; urgency=medium

  * New upstream release
    - Telegram Calls in desktop application and other improvements
  * Refresh patches
    - Fixed hung on startup in Unity or MATE environment (LP: #1680943)
    - Changed optimization level from -Ofast to -O2

 -- Nicholas Guriev <guriev-ns@ya.ru>  Mon, 15 May 2017 13:38:09 +0300

telegram-desktop (1.0.29-1) unstable; urgency=medium

  * New upstream release
  * Refresh patches
  * Add attribution info (closes: #859027)
  * Fix build in i386 (closes: #859058)
  * Fix FTBFS on various architectures (closes: #859057)

 -- Nicholas Guriev <guriev-ns@ya.ru>  Sat, 08 Apr 2017 22:10:01 +0300

telegram-desktop (1.0.14-1) unstable; urgency=low

  * Initial upload (Closes: #767418)

 -- Nicholas Guriev <guriev-ns@ya.ru>  Mon, 27 Feb 2017 21:13:44 +0300
