Description: Pass -mxgot to fix truncated relocation on MIPS64
Forwarded: https://github.com/telegramdesktop/tdesktop/pull/10334/files
Author: Nicholas Guriev <guriev-ns@ya.ru>
Last-Update: Tue, 09 Feb 2021 10:51:55 +0300

--- a/Telegram/cmake/td_scheme.cmake
+++ b/Telegram/cmake/td_scheme.cmake
@@ -33,3 +33,12 @@ PUBLIC
     desktop-app::lib_base
     desktop-app::lib_tl
 )
+
+if (CMAKE_SYSTEM_PROCESSOR STREQUAL "mips64")
+    # Sometimes final linking may fail with error "relocation truncated to fit"
+    # due to large scheme size.
+    target_compile_options(td_scheme
+    PRIVATE
+        -mxgot
+    )
+endif()
